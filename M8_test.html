<!DOCTYPE html>
<html>
<head>
 <title>Lesson 8</title>
 <script>
   var $click=0;
   var $mouseover=0;
   var $mouseout=0;
   var $mouseenter=0;
   var $mouseleave=0;
   var $mousedown=0;
   var $mouseup=0;
   var $contextmenu=0;
   var $dblclick=0;
   var $keydown=0;
   var $keyup=0;
   var $keypress=0;
   var $change=0;
   var $focus=0;
   var $blur=0;

   function ShowAll()
   {
    document.getElementById('div2').innerHTML='click: '+$click+'<br>'+
                                              'mouseover: '+$mouseover+'<br>'+
                                              'mouseout: '+$mouseout+'<br>'+
                                              'mouseenter: '+$mouseenter+'<br>'+
                                              'mouseleave: '+$mouseleave+'<br>'+
                                              'mousedown: '+$mousedown+'<br>'+
                                              'mouseup: '+$mouseup+'<br>'+
                                              'contextmenu: '+$contextmenu+'<br>'+
                                              'dblclick: '+$dblclick+'<br><hr>' +
                                              'keydown: '+$keydown+'<br>' +
                                              'keyup: '+$keyup+'<br>' +
                                              'keypress: '+$keypress+'<br><hr>' +
                                              'change: '+$change+'<br>' + 
                                              'focus: '+$focus+'<br>' + 
                                              'blur: '+$blur+'<br>';

   }

  function my_click($event) {
                             $click++;
                             /*alert(
                                   'clientX=' + $event.clientX + ' clientY=' + $event.clientY + '\n' +
                                   'screenX=' + $event.screenX + ' screenY=' + $event.screenY + '\n' +                                     'altKey=' + $event.altKey + ' ctrlKey=' + $event.ctrlKey + 
                                   ' shiftKey=' + $event.shiftKey
                                  );*/

                             ShowAll();
                            }
  function my_mouseover() {$mouseover++;ShowAll();}
  function my_mouseout() {$mouseout++;ShowAll();}
  function my_mouseenter() {$mouseenter++;ShowAll();}
  function my_mouseleave() {$mouseleave++;ShowAll();}
  function my_mousedown() {$mousedown++;ShowAll();}
  function my_mouseup() {$mouseup++;ShowAll();}
  function my_keydown() {$keydown++;ShowAll();}
  function my_keyup() {$keyup++;ShowAll();}
  function my_change() {$change++;ShowAll();}
  function my_focus() {$focus++;ShowAll();}
  function my_blur() {$blur++;ShowAll();}
  function my_keypress($event) 
  {
   $keypress++;
   var x = ($event.keyCode || $event.which);
   var x_char = String.fromCharCode(x);
  // alert(
   //       'altKey='+$event.altKey+' ctrlKey='+$event.ctrlKey+' shiftKey='+$event.shiftKey+'\n'+
   //       'x(keyCode or which)='+x+' x_char='+x_char+'\n'
    //    );
   ShowAll();
   if (
       (x_char=='a') || 
       (x_char=='A') ||
       (x_char=='b') ||
       (x_char=='B')
      )
   {
    $event.preventDefault();
   }
  }
  function my_contextmenu($event) {
                                   $contextmenu++;
                                   ShowAll();
                                   //$event.preventDefault();
                                  }
  function my_dblclick() {$dblclick++;ShowAll();}

 </script>
</head>
<body>
 <div id="div1" 
      style="border: 1px solid black;"
      onClick="my_click(event);"
      onMouseOver="my_mouseover();"
      onMouseOut="my_mouseout();"
      onMouseEnter="my_mouseenter();"
      onMouseleave="my_mouseleave();"
      onMouseDown="my_mousedown();"
      onMouseUp="my_mouseup();"
      onContextMenu="my_contextmenu(event);"
      onDblclick="my_dblclick();"              
      onKeyDown="my_keydown();"              
      onKeyUp="my_keyup();"              
      onKeyPress="my_keypress(event);"                             
 >
  Some text<br>
  Some text<br>
  <input type=text onChange="my_change();"
                   onFocus="my_focus();"
                   onBlur="my_blur();">
 </div>
<br><br>

<a href="http://www.ya.ru" onClick="event.preventDefault();">Yandex</a>

<br><br>

<div id="div2" style="border: 1px solid black;">
 Some more text...
</div>

</body>
</html>